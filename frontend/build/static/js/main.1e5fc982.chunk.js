(this["webpackJsonpts-redux-react-realworld-example-app"]=this["webpackJsonpts-redux-react-realworld-example-app"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var r=n(57),a=n.n(r),c=(n(66),n(1)),i=n(6),s=n(42),o=n(4),u=n(7),l=n.n(u),b=n(3),d=n(12),j=n(9),p=n(5),m=n(2),f=Object(m.object)({username:m.string,bio:Object(m.nullable)(m.string),image:Object(m.nullable)(m.string),following:Object(m.either)(m.boolean,Object(m.hardcoded)(!1))}),h=Object(m.object)({slug:m.string,title:m.string,description:m.string,body:m.string,tagList:Object(m.array)(m.string),createdAt:m.iso8601,updatedAt:m.iso8601,favorited:m.boolean,favoritesCount:m.number,author:f}),O=Object(m.object)({articles:Object(m.array)(h),articlesCount:m.number}),g=Object(m.object)({id:m.number,createdAt:m.iso8601,updatedAt:m.iso8601,body:m.string,author:f}),x=Object(m.dict)(Object(m.array)(m.string)),v=n(22);function y(e){return Object.entries(e).map((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&")}var w,N=n(10),S={user:p.None,loading:!0},k=Object(N.b)({name:"app",initialState:S,reducers:{initializeApp:function(){return S},loadUser:function(e,t){var n=t.payload;e.user=Object(p.Some)(n),e.loading=!1},logout:function(e){e.user=p.None},endLoad:function(e){e.loading=!1}}}),C=k.actions,F=C.loadUser,T=C.logout,A=C.endLoad,L=(C.initializeApp,k.reducer),P={tags:p.None,selectedTab:"Global Feed"},E=Object(N.b)({name:"home",initialState:P,reducers:{startLoadingTags:function(){return P},loadTags:function(e,t){var n=t.payload;e.tags=Object(p.Some)(n)},changeTab:function(e,t){var n=t.payload;e.selectedTab=n}}}),I=E.actions,z=I.startLoadingTags,U=I.loadTags,B=I.changeTab,D=E.reducer,R={user:{email:"",password:""},errors:{},loginIn:!1},V=Object(N.b)({name:"login",initialState:R,reducers:{initializeLogin:function(){return R},updateField:function(e,t){var n=t.payload,r=n.name,a=n.value;e.user[r]=a},updateErrors:function(e,t){var n=t.payload;e.errors=n,e.loginIn=!1},startLoginIn:function(e){e.loginIn=!0}}}),M=V.actions,W=M.initializeLogin,Y=M.updateField,G=M.updateErrors,H=M.startLoginIn,J=V.reducer,K=n(24),q=n(106),Q={user:{username:"",email:"",password:null,bio:null,image:null},errors:{},updating:!1},X=Object(N.b)({name:"settings",initialState:Q,reducers:{initializeSettings:function(){return Q},updateField:function(e,t){var n=t.payload,r=n.name,a=n.value;e.user[r]=a},updateErrors:function(e,t){var n=t.payload;e.errors=n,e.updating=!1},startUpdate:function(e){e.updating=!0}},extraReducers:(w={},Object(K.a)(w,F.type,(function(e,t){var n=t.payload;e.user=Object(i.a)(Object(i.a)({},q.a("token")(n)),{},{password:null}),e.updating=!1})),Object(K.a)(w,T.type,(function(){return Q})),w)}),Z=X.actions,$=(Z.initializeSettings,Z.updateField),_=Z.updateErrors,ee=Z.startUpdate,te=X.reducer,ne={user:{username:"",email:"",password:""},errors:{},signingUp:!1},re=Object(N.b)({name:"register",initialState:ne,reducers:{initializeRegister:function(){return ne},updateField:function(e,t){var n=t.payload,r=n.name,a=n.value;e.user[r]=a},updateErrors:function(e,t){var n=t.payload;e.errors=n,e.signingUp=!1},startSigningUp:function(e){e.signingUp=!0}}}),ae=re.actions,ce=ae.initializeRegister,ie=ae.updateField,se=ae.updateErrors,oe=ae.startSigningUp,ue=re.reducer,le=n(107),be={article:{title:"",body:"",tagList:[],description:""},tag:"",submitting:!1,errors:{},loading:!0},de=Object(N.b)({name:"editor",initialState:be,reducers:{initializeEditor:function(){return be},updateField:function(e,t){var n=t.payload,r=n.name,a=n.value;"tag"!==r?"tagList"!==r&&(e.article[r]=a):e.tag=a},updateErrors:function(e,t){var n=t.payload;e.errors=n,e.submitting=!1},startSubmitting:function(e){e.submitting=!0},addTag:function(e){e.tag.length>0&&(e.article.tagList.push(e.tag),e.tag="")},removeTag:function(e,t){var n=t.payload;e.article.tagList=le.a(n,1,e.article.tagList)},loadArticle:function(e,t){var n=t.payload;e.article=n,e.loading=!1}}}),je=de.actions,pe=je.initializeEditor,me=je.updateField,fe=je.startSubmitting,he=je.addTag,Oe=je.removeTag,ge=je.updateErrors,xe=je.loadArticle,ve=de.reducer,ye=n(60),we=n(108),Ne=n(110),Se={articles:p.None,currentPage:1,articlesCount:0},ke=Object(N.b)({name:"articleViewer",initialState:Se,reducers:{startLoadingArticles:function(){return Se},loadArticles:function(e,t){var n=t.payload,r=n.articles,a=n.articlesCount;e.articles=Object(p.Some)(r.map((function(e){return{article:e,isSubmitting:!1}}))),e.articlesCount=a},startSubmittingFavorite:function(e,t){var n=t.payload;e.articles=e.articles.map(ye.a(n,we.a("isSubmitting",!0)))},endSubmittingFavorite:function(e,t){var n=t.payload,r=n.article,a=n.index;e.articles=e.articles.map(Ne.a(a,{article:r,isSubmitting:!1}))},changePage:function(e,t){var n=t.payload;e.currentPage=n,e.articles=p.None}}}),Ce=ke.actions,Fe=Ce.startLoadingArticles,Te=Ce.loadArticles,Ae=Ce.startSubmittingFavorite,Le=Ce.endSubmittingFavorite,Pe=Ce.changePage,Ee=ke.reducer,Ie={profile:p.None,submitting:!1},ze=Object(N.b)({name:"profile",initialState:Ie,reducers:{initializeProfile:function(){return Ie},loadProfile:function(e,t){var n=t.payload;e.profile=Object(p.Some)(n),e.submitting=!1},startSubmitting:function(e){return Object(i.a)(Object(i.a)({},e),{},{submitting:!0})}}}),Ue=ze.actions,Be=Ue.initializeProfile,De=Ue.loadProfile,Re=Ue.startSubmitting,Ve=ze.reducer,Me={article:p.None,commentSection:{comments:p.None,commentBody:"",submittingComment:!1},metaSection:{submittingFavorite:!1,submittingFollow:!1,deletingArticle:!1}},We=Object(N.b)({name:"settings",initialState:Me,reducers:{initializeArticlePage:function(){return Me},loadArticle:function(e,t){var n=t.payload;e.article=Object(p.Some)(n),e.metaSection.submittingFavorite=!1},loadComments:function(e,t){var n=t.payload;e.commentSection.comments=Object(p.Some)(n),e.commentSection.commentBody="",e.commentSection.submittingComment=!1},updateAuthor:function(e,t){var n=t.payload;e.article=e.article.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{author:n})})),e.metaSection.submittingFollow=!1},startSubmittingFavorite:function(e){e.metaSection.submittingFavorite=!0},startSubmittingFollow:function(e){e.metaSection.submittingFollow=!0},updateCommentBody:function(e,t){var n=t.payload;e.commentSection.commentBody=n},startSubmittingComment:function(e){e.commentSection.submittingComment=!0},startDeletingArticle:function(e){e.metaSection.deletingArticle=!0}}}),Ye=We.actions,Ge=Ye.initializeArticlePage,He=Ye.loadArticle,Je=Ye.loadComments,Ke=Ye.updateAuthor,qe=Ye.startSubmittingFavorite,Qe=Ye.startSubmittingFollow,Xe=Ye.updateCommentBody,Ze=Ye.startSubmittingComment,$e=Ye.startDeletingArticle,_e=We.reducer,et={serializableCheck:!1},tt=Object(N.a)({reducer:{app:L,home:D,login:J,settings:te,register:ue,editor:ve,articleViewer:Ee,profile:Ve,articlePage:_e},devTools:{name:"Conduit"},middleware:function(e){return e(et)}});function nt(e){return function(){return tt.dispatch(e)}}var rt=Object(m.object)({email:m.string,token:m.string,username:m.string,bio:Object(m.nullable)(m.string),image:Object(m.nullable)(m.string)});function at(e){localStorage.setItem("token",e.token),l.a.defaults.headers.Authorization="Token ".concat(e.token),tt.dispatch(F(e))}function ct(){return it.apply(this,arguments)}function it(){return it=Object(o.a)(Object(c.a)().mark((function e(){var t,n,r=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=Object(i.a)({limit:10,offset:0},t),e.t0=Object(m.guard)(O),e.next=5,l.a.get("articles?".concat(y(n)));case 5:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)}))),it.apply(this,arguments)}function st(){return ot.apply(this,arguments)}function ot(){return(ot=Object(o.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(m.guard)(Object(m.object)({tags:Object(m.array)(m.string)})),e.next=3,l.a.get("tags");case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(o.a)(Object(c.a)().mark((function e(t,n){var r,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("users/login",{user:{email:t,password:n}});case 3:return r=e.sent,a=r.data,e.abrupt("return",Object(p.Ok)(Object(m.guard)(Object(m.object)({user:rt}))(a).user));case 8:return e.prev=8,e.t0=e.catch(0),i=e.t0.response.data,e.abrupt("return",Object(p.Err)(Object(m.guard)(Object(m.object)({errors:x}))(i).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function bt(){return dt.apply(this,arguments)}function dt(){return(dt=Object(o.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("user");case 2:return t=e.sent,n=t.data,e.abrupt("return",Object(m.guard)(Object(m.object)({user:rt}))(n).user);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){return pt.apply(this,arguments)}function pt(){return(pt=Object(o.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(m.guard)(Object(m.object)({article:h})),e.next=3,l.a.post("articles/".concat(t,"/favorite"));case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1).article);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(o.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(m.guard)(Object(m.object)({article:h})),e.next=3,l.a.delete("articles/".concat(t,"/favorite"));case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1).article);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(o.a)(Object(c.a)().mark((function e(t){var n,r,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.put("user",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",Object(p.Ok)(Object(m.guard)(Object(m.object)({user:rt}))(r).user));case 8:return e.prev=8,e.t0=e.catch(0),a=e.t0.data,e.abrupt("return",Object(p.Err)(Object(m.guard)(Object(m.object)({errors:x}))(a).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function gt(e){return xt.apply(this,arguments)}function xt(){return(xt=Object(o.a)(Object(c.a)().mark((function e(t){var n,r,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("users",{user:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",Object(p.Ok)(Object(m.guard)(Object(m.object)({user:rt}))(r).user));case 8:return e.prev=8,e.t0=e.catch(0),a=e.t0.response.data,e.abrupt("return",Object(p.Err)(Object(m.guard)(Object(m.object)({errors:x}))(a).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function vt(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(o.a)(Object(c.a)().mark((function e(t){var n,r,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("articles",{article:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",Object(p.Ok)(Object(m.guard)(Object(m.object)({article:h}))(r).article));case 8:return e.prev=8,e.t0=e.catch(0),a=e.t0.response.data,e.abrupt("return",Object(p.Err)(Object(m.guard)(Object(m.object)({errors:x}))(a).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function wt(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(o.a)(Object(c.a)().mark((function e(t){var n,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("articles/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(m.guard)(Object(m.object)({article:h}))(r).article);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(o.a)(Object(c.a)().mark((function e(t,n){var r,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.put("articles/".concat(t),{article:n});case 3:return r=e.sent,a=r.data,e.abrupt("return",Object(p.Ok)(Object(m.guard)(Object(m.object)({article:h}))(a).article));case 8:return e.prev=8,e.t0=e.catch(0),i=e.t0.response.data,e.abrupt("return",Object(p.Err)(Object(m.guard)(Object(m.object)({errors:x}))(i).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Ct(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(o.a)(Object(c.a)().mark((function e(t){var n,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("profiles/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(m.guard)(Object(m.object)({profile:f}))(r).profile);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e){return At.apply(this,arguments)}function At(){return(At=Object(o.a)(Object(c.a)().mark((function e(t){var n,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("profiles/".concat(t,"/follow"));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(m.guard)(Object(m.object)({profile:f}))(r).profile);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(o.a)(Object(c.a)().mark((function e(t){var n,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("profiles/".concat(t,"/follow"));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(m.guard)(Object(m.object)({profile:f}))(r).profile);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return It.apply(this,arguments)}function It(){return It=Object(o.a)(Object(c.a)().mark((function e(){var t,n,r=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=Object(i.a)({limit:10,offset:0},t),e.t0=Object(m.guard)(O),e.next=5,l.a.get("articles/feed?".concat(y(n)));case 5:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)}))),It.apply(this,arguments)}function zt(e){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(o.a)(Object(c.a)().mark((function e(t){var n,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("articles/".concat(t,"/comments"));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(m.guard)(Object(m.object)({comments:Object(m.array)(g)}))(r).comments);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(o.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("articles/".concat(t,"/comments/").concat(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(o.a)(Object(c.a)().mark((function e(t,n){var r,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("articles/".concat(t,"/comments"),{comment:{body:n}});case 2:return r=e.sent,a=r.data,e.abrupt("return",Object(m.guard)(Object(m.object)({comment:g}))(a).comment);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(o.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("articles/".concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e,t){var n=Object(b.useState)(e(tt.getState())),r=Object(v.a)(n,2),a=r[0],c=r[1];return Object(b.useEffect)((function(){var n=tt.subscribe((function(){return c(e(tt.getState()))}));return t(),n}),[null]),a}function Gt(e){return Yt(e,(function(){}))}function Ht(e){return Object(i.a)({type:"text",placeholder:"",fieldType:"input",lg:!0},e)}l.a.defaults.baseURL="https://api.realworld.io/api/";var Jt=n(0);function Kt(e){var t=e.children;return Object(Jt.jsx)("div",{className:"container page",children:Object(Jt.jsxs)("div",{className:"row",children:[" ",t," "]})})}function qt(e){var t=e.type,n=e.placeholder,r=e.disabled,a=e.value,c=e.onChange,i=e.lg;return Object(Jt.jsx)("fieldset",{className:"form-group",children:Object(Jt.jsx)("input",{className:"form-control".concat(i?" form-control-lg":""),type:t,placeholder:n,disabled:r,value:a,onChange:c})})}function Qt(e){var t=e.type,n=e.placeholder,r=e.disabled,a=e.value,c=e.rows,i=e.onChange,s=e.lg;return Object(Jt.jsx)("fieldset",{className:"form-group",children:Object(Jt.jsx)("textarea",{className:"form-control".concat(s?" form-control-lg":""),type:t,placeholder:n,disabled:r,value:a,onChange:i,rows:c})})}function Xt(e){var t=e.type,n=e.placeholder,r=e.disabled,a=e.value,c=e.listValue,i=e.lg,s=e.onChange,o=e.onEnter,u=e.onRemoveItem;return Object(Jt.jsxs)("fieldset",{className:"form-group",children:[Object(Jt.jsx)("input",{className:"form-control".concat(i?" form-control-lg":""),type:t,placeholder:n,disabled:r,value:a,onChange:s,onKeyDown:function(e){return"Enter"===e.key&&e.preventDefault()},onKeyUp:Zt(o)}),Object(Jt.jsx)("div",{className:"tag-list",children:c.map((function(e,t){return Object(Jt.jsxs)("span",{className:"tag-default tag-pill",onClick:function(){return u(t)},children:[Object(Jt.jsx)("i",{className:"ion-close-round"}),e]},e)}))})]})}function Zt(e){return function(t){"Enter"===t.key&&(t.preventDefault(),e())}}function $t(e){var t=e.errors;return Object(Jt.jsx)("ul",{className:"error-messages",children:Object.entries(t).map((function(e){var t=Object(v.a)(e,2),n=t[0];return t[1].map((function(e){return Object(Jt.jsxs)("li",{children:[n," ",e]},n+e)}))}))})}var _t=function(e){var t=e.fields,n=e.disabled,r=e.formObject,a=e.submitButtonText,c=e.errors,i=e.onChange,s=e.onSubmit,o=e.onAddItemToList,u=e.onRemoveListItem;return Object(Jt.jsxs)(b.Fragment,{children:[Object(Jt.jsx)($t,{errors:c}),Object(Jt.jsx)("form",{onSubmit:s,children:Object(Jt.jsxs)("fieldset",{children:[t.map((function(e){return"input"===e.fieldType?Object(Jt.jsx)(qt,{disabled:n,type:e.type,placeholder:e.placeholder,value:r[e.name]||"",onChange:en(e.name,i),lg:e.lg},e.name):"textarea"===e.fieldType?Object(Jt.jsx)(Qt,{disabled:n,type:e.type,placeholder:e.placeholder,value:r[e.name]||"",rows:e.rows,onChange:en(e.name,i),lg:e.lg},e.name):Object(Jt.jsx)(Xt,{disabled:n,type:e.type,placeholder:e.placeholder,value:r[e.name]||"",onChange:en(e.name,i),listValue:r[e.listName],onEnter:function(){return o&&e.listName&&o(e.listName)},onRemoveItem:function(t){return u&&e.listName&&u(e.listName,t)},lg:e.lg},e.name)})),Object(Jt.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",children:a})]})})]})};function en(e,t){return function(n){var r=n.target.value;t(e,r)}}function tn(e){var t=e.onSubmit,n=Gt((function(e){return e.editor})),r=n.article,a=n.submitting,c=n.tag,s=n.errors;return Object(Jt.jsx)("div",{className:"editor-page",children:Object(Jt.jsx)(Kt,{children:Object(Jt.jsx)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:Object(Jt.jsx)(_t,{formObject:Object(i.a)(Object(i.a)({},r),{},{tag:c}),disabled:a,errors:s,onChange:nn,onSubmit:t,submitButtonText:"Publish Article",onAddItemToList:rn,onRemoveListItem:an,fields:[Ht({name:"title",placeholder:"Article Title"}),Ht({name:"description",placeholder:"What's this article about?",lg:!1}),Ht({name:"body",placeholder:"Write your article (in markdown)",fieldType:"textarea",rows:8,lg:!1}),Ht({name:"tag",placeholder:"Enter Tags",listName:"tagList",fieldType:"list",lg:!1})]})})})})}function nn(e,t){tt.dispatch(me({name:e,value:t}))}function rn(){tt.dispatch(he())}function an(e,t){tt.dispatch(Oe(t))}function cn(){var e=Object(j.h)().slug,t=Gt((function(e){return e.editor})).loading;return Object(b.useEffect)((function(){!function(e){sn.apply(this,arguments)}(e)}),[e]),Object(Jt.jsx)(b.Fragment,{children:!t&&Object(Jt.jsx)(tn,{onSubmit:on(e)})})}function sn(){return(sn=Object(o.a)(Object(c.a)().mark((function e(t){var n,r,a,i,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt.dispatch(pe()),e.prev=1,e.next=4,wt(t);case 4:if(n=e.sent,r=n.title,a=n.description,i=n.body,s=n.tagList,n.author.username===tt.getState().app.user.unwrap().username){e.next=13;break}return location.hash="#/",e.abrupt("return");case 13:tt.dispatch(xe({title:r,description:a,body:i,tagList:s})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),location.hash="#/";case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function on(e){return function(){var t=Object(o.a)(Object(c.a)().mark((function t(n){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),tt.dispatch(fe()),t.next=4,St(e,tt.getState().editor.article);case 4:t.sent.match({err:function(e){return tt.dispatch(ge(e))},ok:function(e){var t=e.slug;location.hash="#/article/".concat(t)}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function un(){return Object(Jt.jsx)("footer",{children:Object(Jt.jsxs)("div",{className:"container",children:[Object(Jt.jsx)("a",{href:"/#/",className:"logo-font",children:"conduit"}),Object(Jt.jsxs)("span",{className:"attribution",children:["An interactive learning project from ",Object(Jt.jsx)("a",{href:"https://thinkster.io",children:"Thinkster"}),". Code & design licensed under MIT."]})]})})}function ln(){var e=Gt((function(e){return e.app})).user;return Object(Jt.jsx)("nav",{className:"navbar navbar-light",children:Object(Jt.jsxs)("div",{className:"container",children:[Object(Jt.jsx)("a",{className:"navbar-brand",href:"/#/",children:"conduit"}),Object(Jt.jsx)("ul",{className:"nav navbar-nav pull-xs-right",children:Object(Jt.jsxs)(d.a,{children:[Object(Jt.jsx)(bn,{text:"Home",href:"/"}),e.match({none:function(){return Object(Jt.jsx)(dn,{})},some:function(e){return Object(Jt.jsx)(jn,{user:e})}})]})})]})})}function bn(e){var t=e.text,n=e.href,r=e.icon;return Object(Jt.jsx)("li",{className:"nav-item",children:Object(Jt.jsxs)(d.c,{exact:!0,to:n,activeClassName:"active",className:"nav-link",children:[r&&Object(Jt.jsx)("i",{className:r}),"\xa0",t]})})}function dn(){return Object(Jt.jsxs)(b.Fragment,{children:[Object(Jt.jsx)(bn,{text:"Sign in",href:"/login"}),Object(Jt.jsx)(bn,{text:"Sign up",href:"/register"})]})}function jn(e){var t=e.user.username;return Object(Jt.jsxs)(b.Fragment,{children:[Object(Jt.jsx)(bn,{text:"New Article",href:"/editor",icon:"ion-compose"}),Object(Jt.jsx)(bn,{text:"Settings",href:"/settings",icon:"ion-gear-a"}),Object(Jt.jsx)(bn,{text:"".concat(t),href:"/profile/".concat(t)})]})}var pn=n(59);function mn(e){return Object.entries(e).filter((function(e){return Object(v.a)(e,2)[1]})).map((function(e){return Object(v.a)(e,1)[0]})).join(" ")}var fn=n(109);function hn(e){var t=e.article,n=t.createdAt,r=t.favorited,a=t.favoritesCount,c=t.slug,i=t.title,s=t.description,o=t.tagList,u=t.author,l=u.image,b=u.username,j=e.isSubmitting,p=e.onFavoriteToggle;return Object(Jt.jsxs)("div",{className:"article-preview",children:[Object(Jt.jsxs)("div",{className:"article-meta",children:[Object(Jt.jsx)(d.b,{to:"/profile/".concat(b),className:"author",children:Object(Jt.jsx)("img",{src:l||void 0})}),Object(Jt.jsxs)("div",{className:"info",children:[Object(Jt.jsx)(d.b,{to:"/profile/".concat(b),className:"author",children:b}),Object(Jt.jsx)("span",{className:"date",children:Object(fn.a)(n,"PP")})]}),Object(Jt.jsxs)("button",{className:"btn btn-sm pull-xs-right ".concat(r?"btn-primary":"btn-outline-primary"),"aria-label":"Toggle Favorite",disabled:j,onClick:p,children:[Object(Jt.jsx)("i",{className:"ion-heart"})," ",a]})]}),Object(Jt.jsxs)("a",{href:"/#/article/".concat(c),className:"preview-link",children:[Object(Jt.jsx)("h1",{children:i}),Object(Jt.jsx)("p",{children:s}),Object(Jt.jsx)("span",{children:"Read more..."}),Object(Jt.jsx)(On,{tagList:o})]})]})}function On(e){var t=e.tagList;return Object(Jt.jsx)("ul",{className:"tag-list",children:t.map((function(e){return Object(Jt.jsx)("li",{className:"tag-default tag-pill tag-outline",children:e},e)}))})}var gn=n(111);function xn(e){var t=e.currentPage,n=e.count,r=e.itemsPerPage,a=e.onPageChange;return Object(Jt.jsx)("nav",{children:Object(Jt.jsx)("ul",{className:"pagination",children:Math.ceil(n/r)>1&&Object(gn.a)(1,Math.ceil(n/r)+1).map((function(e){return Object(Jt.jsx)("li",{className:"page-item".concat(t!==e?"":" active"),onClick:a&&function(){return a(e)},children:Object(Jt.jsx)("a",{className:"page-link","aria-label":"Go to page number ".concat(e),href:"#",children:e})},e)}))})})}function vn(e){var t=e.toggleClassName,n=e.tabs,r=e.selectedTab,a=e.onPageChange,c=e.onTabChange,i=Gt((function(e){return e.articleViewer})),s=i.articles,o=i.articlesCount,u=i.currentPage;return Object(Jt.jsxs)(b.Fragment,{children:[Object(Jt.jsx)(yn,{tabs:n,selectedTab:r,toggleClassName:t,onTabChange:c}),Object(Jt.jsx)(Nn,{articles:s}),Object(Jt.jsx)(xn,{currentPage:u,count:o,itemsPerPage:10,onPageChange:a})]})}function yn(e){var t=e.tabs,n=e.toggleClassName,r=e.selectedTab,a=e.onTabChange;return Object(Jt.jsx)("div",{className:n,children:Object(Jt.jsx)("ul",{className:"nav nav-pills outline-active",children:t.map((function(e){return Object(Jt.jsx)(wn,{tab:e,active:e===r,onClick:function(){return a&&a(e)}},e)}))})})}function wn(e){var t=e.tab,n=e.active,r=e.onClick;return Object(Jt.jsx)("li",{className:"nav-item",children:Object(Jt.jsx)("a",{className:mn({"nav-link":!0,active:n}),href:"#",onClick:function(e){e.preventDefault(),r()},children:t})})}function Nn(e){return e.articles.match({none:function(){return Object(Jt.jsx)("div",{className:"article-preview",children:"Loading articles..."},1)},some:function(e){return Object(Jt.jsxs)(b.Fragment,{children:[0===e.length&&Object(Jt.jsx)("div",{className:"article-preview",children:"No articles are here... yet."},1),e.map((function(e,t){var n=e.article,r=e.isSubmitting;return Object(Jt.jsx)(hn,{article:n,isSubmitting:r,onFavoriteToggle:r?void 0:Sn(t,n)},n.slug)}))]})}})}function Sn(e,t){var n=t.slug,r=t.favorited;return Object(o.a)(Object(c.a)().mark((function t(){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!tt.getState().app.user.isNone()){t.next=3;break}return location.hash="#/login",t.abrupt("return");case 3:return tt.dispatch(Ae(e)),t.next=6,r?mt(n):jt(n);case 6:a=t.sent,tt.dispatch(Le({index:e,article:a}));case 8:case"end":return t.stop()}}),t)})))}function kn(){var e=Yt((function(e){return e.home}),Cn),t=e.tags,n=e.selectedTab;return Object(Jt.jsxs)("div",{className:"home-page",children:[Object(Jt.jsx)("div",{className:"banner",children:Object(Jt.jsxs)("div",{className:"container",children:[Object(Jt.jsx)("h1",{className:"logo-font",children:"conduit"}),Object(Jt.jsx)("p",{children:"A place to share your knowledge."})]})}),Object(Jt.jsxs)(Kt,{children:[Object(Jt.jsx)("div",{className:"col-md-9",children:Object(Jt.jsx)(vn,{toggleClassName:"feed-toggle",selectedTab:n,tabs:Tn(n),onPageChange:An,onTabChange:Pn})}),Object(Jt.jsx)("div",{className:"col-md-3",children:Object(Jt.jsx)(Un,{tags:t})})]})]})}function Cn(){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(o.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt.dispatch(Fe()),tt.dispatch(z()),tt.getState().app.user.isSome()&&tt.dispatch(B("Your Feed")),e.next=5,In();case 5:return t=e.sent,tt.dispatch(Te(t)),e.next=9,st();case 9:n=e.sent,tt.dispatch(U(n.tags));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e){var t=tt.getState().app.user;return Array.from(new Set([].concat(Object(pn.a)(t.isSome()?["Your Feed"]:[]),["Global Feed",e])))}function An(e){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(o.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt.dispatch(Pe(t)),e.next=3,In({offset:10*(t-1)});case 3:n=e.sent,tt.dispatch(Te(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e){return En.apply(this,arguments)}function En(){return(En=Object(o.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt.dispatch(B(t)),tt.dispatch(Fe()),e.next=4,In();case 4:n=e.sent,tt.dispatch(Te(n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(){return zn.apply(this,arguments)}function zn(){return zn=Object(o.a)(Object(c.a)().mark((function e(){var t,n,r,a=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=tt.getState().home.selectedTab,r=Object(i.a)(Object(i.a)({},t),{},{tag:n.slice(2)}),e.next=5,("Your Feed"===n?Et:ct)(n.startsWith("#")?r:t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),zn.apply(this,arguments)}function Un(e){var t=e.tags;return Object(Jt.jsxs)("div",{className:"sidebar",children:[Object(Jt.jsx)("p",{children:"Popular Tags"}),t.match({none:function(){return Object(Jt.jsx)("span",{children:"Loading tags..."})},some:function(e){return Object(Jt.jsxs)("div",{className:"tag-list",children:[" ",e.map((function(e){return Object(Jt.jsx)("a",{href:"#",className:"tag-pill tag-default",onClick:function(){return Pn("# ".concat(e))},children:e},e)}))," "]})}})]})}function Bn(){var e=Yt((function(e){return e.login}),nt(W())),t=e.errors,n=e.loginIn,r=e.user;return Object(Jt.jsx)("div",{className:"auth-page",children:Object(Jt.jsx)(Kt,{children:Object(Jt.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(Jt.jsx)("h1",{className:"text-xs-center",children:"Sign in"}),Object(Jt.jsx)("p",{className:"text-xs-center",children:Object(Jt.jsx)("a",{href:"/#/register",children:"Need an account?"})}),Object(Jt.jsx)(_t,{disabled:n,formObject:r,submitButtonText:"Sign in",errors:t,onChange:Dn,onSubmit:Rn,fields:[Ht({name:"email",placeholder:"Email"}),Ht({name:"password",placeholder:"Password",type:"password"})]})]})})})}function Dn(e,t){tt.dispatch(Y({name:e,value:t}))}function Rn(e){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(o.a)(Object(c.a)().mark((function e(t){var n,r,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!tt.getState().login.loginIn){e.next=3;break}return e.abrupt("return");case 3:return tt.dispatch(H()),n=tt.getState().login.user,r=n.email,a=n.password,e.next=7,ut(r,a);case 7:e.sent.match({ok:function(e){location.hash="#/",at(e)},err:function(e){tt.dispatch(G(e))}});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(){return Object(b.useEffect)((function(){tt.dispatch(pe())}),[null]),Object(Jt.jsx)(tn,{onSubmit:Wn})}function Wn(e){return Yn.apply(this,arguments)}function Yn(){return(Yn=Object(o.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),tt.dispatch(fe()),e.next=4,vt(tt.getState().editor.article);case 4:e.sent.match({err:function(e){return tt.dispatch(ge(e))},ok:function(e){var t=e.slug;location.hash="#/article/".concat(t)}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(){var e=Yt((function(e){return e.register}),nt(ce())),t=e.errors,n=e.signingUp,r=e.user;return Object(Jt.jsx)("div",{className:"auth-page",children:Object(Jt.jsx)(Kt,{children:Object(Jt.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(Jt.jsx)("h1",{className:"text-xs-center",children:"Sign up"}),Object(Jt.jsx)("p",{className:"text-xs-center",children:Object(Jt.jsx)("a",{href:"/#/login",children:"Have an account?"})}),Object(Jt.jsx)(_t,{disabled:n,formObject:r,submitButtonText:"Sign up",errors:t,onChange:Hn,onSubmit:Jn(r),fields:[Ht({name:"username",placeholder:"Username"}),Ht({name:"email",placeholder:"Email"}),Ht({name:"password",placeholder:"Password",type:"password"})]})]})})})}function Hn(e,t){tt.dispatch(ie({name:e,value:t}))}function Jn(e){return function(){var t=Object(o.a)(Object(c.a)().mark((function t(n){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),tt.dispatch(oe()),t.next=4,gt(e);case 4:t.sent.match({err:function(e){return tt.dispatch(se(e))},ok:function(e){location.hash="#/",at(e)}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Kn(){var e=Gt((function(e){return e.settings})),t=e.user,n=e.errors,r=e.updating;return Object(Jt.jsx)("div",{className:"settings-page",children:Object(Jt.jsx)(Kt,{children:Object(Jt.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(Jt.jsx)("h1",{className:"text-xs-center",children:"Your Settings"}),Object(Jt.jsx)(_t,{disabled:r,formObject:Object(i.a)({},t),submitButtonText:"Update Settings",errors:n,onChange:qn,onSubmit:Qn(t),fields:[Ht({name:"image",placeholder:"URL of profile picture"}),Ht({name:"username",placeholder:"Your Name"}),Ht({name:"bio",placeholder:"Short bio about you",rows:8,fieldType:"textarea"}),Ht({name:"email",placeholder:"Email"}),Ht({name:"password",placeholder:"Password",type:"password"})]}),Object(Jt.jsx)("hr",{}),Object(Jt.jsx)("button",{className:"btn btn-outline-danger",onClick:Xn,children:"Or click here to logout."})]})})})}function qn(e,t){tt.dispatch($({name:e,value:t}))}function Qn(e){return function(){var t=Object(o.a)(Object(c.a)().mark((function t(n){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),tt.dispatch(ee()),t.next=4,ht(e);case 4:t.sent.match({err:function(e){return tt.dispatch(_(e))},ok:function(e){tt.dispatch(F(e)),location.hash="/"}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Xn(){delete l.a.defaults.headers.Authorization,localStorage.removeItem("token"),tt.dispatch(T()),location.hash="/"}function Zn(e){location.hash="#/".concat(e)}function $n(e){var t=e.user,n=t.image,r=t.username,a=t.bio,c=t.following,i=e.disabled,s=e.onFollowToggle,o=e.onEditSettings,u=Gt((function(e){return e.app})).user.map((function(e){return e.username})).unwrapOr("");return Object(Jt.jsx)("div",{className:"user-info",children:Object(Jt.jsx)("div",{className:"container",children:Object(Jt.jsx)("div",{className:"row",children:Object(Jt.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(Jt.jsx)("img",{src:n||void 0,className:"user-img"}),Object(Jt.jsx)("h4",{children:r}),Object(Jt.jsx)("p",{children:a}),u===r?Object(Jt.jsx)(er,{onClick:o,disabled:i}):Object(Jt.jsx)(_n,{following:c,username:r,disabled:i,onClick:s})]})})})})}function _n(e){var t=e.following,n=e.username,r=e.disabled,a=e.onClick;return Object(Jt.jsxs)("button",{className:"btn btn-sm btn-outline-secondary action-btn",onClick:a,disabled:r,children:[Object(Jt.jsx)("i",{className:"ion-plus-round"}),"\xa0",t?" Unfollow":" Follow"," ",n]})}function er(e){var t=e.disabled,n=e.onClick;return Object(Jt.jsxs)("button",{className:"btn btn-sm btn-outline-secondary action-btn",onClick:n,disabled:t,children:[Object(Jt.jsx)("i",{className:"ion-gear-a"}),"\xa0 Edit Profile Settings"]})}function tr(){var e=Object(j.h)().username,t=Object(j.g)().pathname.endsWith("favorites");Object(b.useEffect)((function(){!function(e,t){nr.apply(this,arguments)}(e,t)}),[e]);var n=Gt((function(e){return e.profile})),r=n.profile,a=n.submitting;return Object(Jt.jsxs)("div",{className:"profile-page",children:[r.match({none:function(){return Object(Jt.jsx)("div",{className:"article-preview",children:"Loading profile..."},1)},some:function(e){return Object(Jt.jsx)($n,{user:e,disabled:a,onFollowToggle:cr(e),onEditSettings:function(){return Zn("settings")}})}}),Object(Jt.jsx)("div",{className:"container",children:Object(Jt.jsx)("div",{className:"row",children:Object(Jt.jsx)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:Object(Jt.jsx)(vn,{toggleClassName:"articles-toggle",tabs:["My Articles","Favorited Articles"],selectedTab:t?"Favorited Articles":"My Articles",onTabChange:ir(e),onPageChange:sr(e,t)})})})})]})}function nr(){return(nr=Object(o.a)(Object(c.a)().mark((function e(t,n){var r,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt.dispatch(Be()),tt.dispatch(Fe()),e.prev=2,e.next=5,Ct(t);case 5:return r=e.sent,tt.dispatch(De(r)),e.next=9,rr(t,n);case 9:a=e.sent,tt.dispatch(Te(a)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),location.href="#/";case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function rr(e,t){return ar.apply(this,arguments)}function ar(){return(ar=Object(o.a)(Object(c.a)().mark((function e(t,n){var r,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tt.getState().articleViewer.currentPage,e.next=3,ct((r={},Object(K.a)(r,n?"favorited":"author",t),Object(K.a)(r,"offset",10*(a-1)),r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cr(e){return Object(o.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!tt.getState().app.user.isNone()){t.next=4;break}return Zn("register"),t.abrupt("return");case 4:return tt.dispatch(Re()),t.next=7,(e.following?Lt:Tt)(e.username);case 7:n=t.sent,tt.dispatch(De(n));case 9:case"end":return t.stop()}}),t)})))}function ir(e){return function(){var t=Object(o.a)(Object(c.a)().mark((function t(n){var r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="Favorited Articles"===n,location.hash="#/profile/".concat(e).concat(r?"/favorites":""),tt.dispatch(Fe()),t.t0=tt,t.t1=Te,t.next=7,rr(e,r);case 7:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),t.t0.dispatch.call(t.t0,t.t3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function sr(e,t){return function(){var n=Object(o.a)(Object(c.a)().mark((function n(r){return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return tt.dispatch(Pe(r)),n.t0=tt,n.t1=Te,n.next=5,rr(e,t);case 5:n.t2=n.sent,n.t3=(0,n.t1)(n.t2),n.t0.dispatch.call(n.t0,n.t3);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function or(){var e=Object(j.h)().slug,t=Gt((function(e){return{articlePage:e.articlePage,app:e.app}})),n=t.articlePage,r=n.article,a=n.commentSection,c=n.metaSection,i=t.app.user;return Object(b.useEffect)((function(){!function(e){ur.apply(this,arguments)}(e)}),[e]),r.match({none:function(){return Object(Jt.jsx)("div",{children:"Loading article..."})},some:function(e){return Object(Jt.jsxs)("div",{className:"article-page",children:[Object(Jt.jsx)(lr,{article:e,metaSection:c,user:i}),Object(Jt.jsxs)("div",{className:"container page",children:[Object(Jt.jsxs)("div",{className:"row article-content",children:[Object(Jt.jsx)("div",{className:"col-md-12",children:e.body}),Object(Jt.jsx)(On,{tagList:e.tagList})]}),Object(Jt.jsx)("hr",{}),Object(Jt.jsx)("div",{className:"article-actions",children:Object(Jt.jsx)(br,{article:e,metaSection:c,user:i})}),Object(Jt.jsx)(Or,{user:i,commentSection:a,article:e})]})]})}})}function ur(){return(ur=Object(o.a)(Object(c.a)().mark((function e(t){var n,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt.dispatch(Ge()),e.prev=1,e.next=4,wt(t);case 4:return n=e.sent,tt.dispatch(He(n)),e.next=8,zt(t);case 8:r=e.sent,tt.dispatch(Je(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),Zn("");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function lr(e){return Object(Jt.jsx)("div",{className:"banner",children:Object(Jt.jsxs)("div",{className:"container",children:[Object(Jt.jsx)("h1",{children:e.article.title}),Object(Jt.jsx)(br,Object(i.a)({},e))]})})}function br(e){var t=e.article,n=e.metaSection,r=n.submittingFavorite,a=n.submittingFollow,c=n.deletingArticle,i=e.user;return Object(Jt.jsxs)("div",{className:"article-meta",children:[Object(Jt.jsx)(dr,{article:t}),i.isSome()&&i.unwrap().username===t.author.username?Object(Jt.jsx)(fr,{article:t,deletingArticle:c}):Object(Jt.jsx)(jr,{article:t,submittingFavorite:r,submittingFollow:a})]})}function dr(e){var t=e.article,n=t.author,r=n.username,a=n.image,c=t.createdAt;return Object(Jt.jsxs)(b.Fragment,{children:[Object(Jt.jsx)(d.b,{to:"/profile/".concat(r),children:Object(Jt.jsx)("img",{src:a||void 0})}),Object(Jt.jsxs)("div",{className:"info",children:[Object(Jt.jsx)(d.b,{className:"author",to:"/profile/".concat(r),children:r}),Object(Jt.jsx)("span",{className:"date",children:Object(fn.a)(c,"PP")})]})]})}function jr(e){var t=e.article,n=t.slug,r=t.favoritesCount,a=t.favorited,c=t.author,i=c.username,s=c.following,o=e.submittingFavorite,u=e.submittingFollow;return Object(Jt.jsxs)(b.Fragment,{children:[Object(Jt.jsxs)("button",{className:mn({btn:!0,"btn-sm":!0,"btn-outline-secondary":!s,"btn-secondary":s}),disabled:u,onClick:function(){return function(e,t){return pr.apply(this,arguments)}(i,s)},children:[Object(Jt.jsx)("i",{className:"ion-plus-round"}),"\xa0 ",(s?"Unfollow ":"Follow ")+i]}),"\xa0",Object(Jt.jsxs)("button",{className:mn({btn:!0,"btn-sm":!0,"btn-outline-primary":!a,"btn-primary":a}),disabled:o,onClick:function(){return function(e,t){return mr.apply(this,arguments)}(n,a)},children:[Object(Jt.jsx)("i",{className:"ion-heart"}),"\xa0 ",(a?"Unfavorite ":"Favorite ")+"Article",Object(Jt.jsxs)("span",{className:"counter",children:["(",r,")"]})]})]})}function pr(){return(pr=Object(o.a)(Object(c.a)().mark((function e(t,n){var r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tt.getState().app.user.isNone()){e.next=3;break}return Zn("register"),e.abrupt("return");case 3:return tt.dispatch(Qe()),e.next=6,(n?Lt:Tt)(t);case 6:r=e.sent,tt.dispatch(Ke(r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mr(){return(mr=Object(o.a)(Object(c.a)().mark((function e(t,n){var r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tt.getState().app.user.isNone()){e.next=3;break}return Zn("register"),e.abrupt("return");case 3:return tt.dispatch(qe()),e.next=6,(n?mt:jt)(t);case 6:r=e.sent,tt.dispatch(He(r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fr(e){var t=e.article.slug,n=e.deletingArticle;return Object(Jt.jsxs)(b.Fragment,{children:[Object(Jt.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){return Zn("editor/".concat(t))},children:[Object(Jt.jsx)("i",{className:"ion-plus-round"}),"\xa0 Edit Article"]}),"\xa0",Object(Jt.jsxs)("button",{className:"btn btn-outline-danger btn-sm",disabled:n,onClick:function(){return function(e){return hr.apply(this,arguments)}(t)},children:[Object(Jt.jsx)("i",{className:"ion-heart"}),"\xa0 Delete Article"]})]})}function hr(){return(hr=Object(o.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt.dispatch($e()),e.next=3,Mt(t);case 3:Zn("");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e){var t=e.user,n=e.article,r=e.commentSection,a=r.submittingComment,c=r.commentBody,i=r.comments;return Object(Jt.jsx)("div",{className:"row",children:Object(Jt.jsxs)("div",{className:"col-xs-12 col-md-8 offset-md-2",children:[t.match({none:function(){return Object(Jt.jsxs)("p",{style:{display:"inherit"},children:[Object(Jt.jsx)(d.b,{to:"/login",children:"Sign in"})," or ",Object(Jt.jsx)(d.b,{to:"/register",children:"sign up"})," to add comments on this article."]})},some:function(e){return Object(Jt.jsx)(gr,{user:e,slug:n.slug,submittingComment:a,commentBody:c})}}),i.match({none:function(){return Object(Jt.jsx)("div",{children:"Loading comments..."})},some:function(e){return Object(Jt.jsx)(b.Fragment,{children:e.map((function(e,r){return Object(Jt.jsx)(yr,{comment:e,slug:n.slug,user:t,index:r},e.id)}))})}})]})})}function gr(e){var t=e.user.image,n=e.commentBody,r=e.slug,a=e.submittingComment;return Object(Jt.jsxs)("form",{className:"card comment-form",onSubmit:vr(r,n),children:[Object(Jt.jsx)("div",{className:"card-block",children:Object(Jt.jsx)("textarea",{className:"form-control",placeholder:"Write a comment...",rows:3,onChange:xr,value:n})}),Object(Jt.jsxs)("div",{className:"card-footer",children:[Object(Jt.jsx)("img",{src:t||void 0,className:"comment-author-img"}),Object(Jt.jsx)("button",{className:"btn btn-sm btn-primary",disabled:a,children:"Post Comment"})]})]})}function xr(e){tt.dispatch(Xe(e.target.value))}function vr(e,t){return function(){var n=Object(o.a)(Object(c.a)().mark((function n(r){return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),tt.dispatch(Ze()),n.next=4,Rt(e,t);case 4:return n.t0=tt,n.t1=Je,n.next=8,zt(e);case 8:n.t2=n.sent,n.t3=(0,n.t1)(n.t2),n.t0.dispatch.call(n.t0,n.t3);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function yr(e){var t=e.comment,n=t.id,r=t.body,a=t.createdAt,c=t.author,i=c.username,s=c.image,o=e.slug,u=e.index,l=e.user;return Object(Jt.jsxs)("div",{className:"card",children:[Object(Jt.jsx)("div",{className:"card-block",children:Object(Jt.jsx)("p",{className:"card-text",children:r})}),Object(Jt.jsxs)("div",{className:"card-footer",children:[Object(Jt.jsx)(d.b,{className:"comment-author",to:"/profile/".concat(i),children:Object(Jt.jsx)("img",{src:s||void 0,className:"comment-author-img"})}),"\xa0",Object(Jt.jsx)(d.b,{className:"comment-author",to:"/profile/".concat(i),children:i}),Object(Jt.jsx)("span",{className:"date-posted",children:Object(fn.a)(a,"PP")}),l.isSome()&&l.unwrap().username===i&&Object(Jt.jsx)("span",{className:"mod-options",children:Object(Jt.jsx)("i",{className:"ion-trash-a","aria-label":"Delete comment ".concat(u+1),onClick:function(){return function(e,t){return wr.apply(this,arguments)}(o,n)}})})]})]})}function wr(){return(wr=Object(o.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(t,n);case 2:return e.t0=tt,e.t1=Je,e.next=6,zt(t);case 6:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.dispatch.call(e.t0,e.t3);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nr=["children","userIsLogged"],Sr=["children","userIsLogged"];function kr(){var e=Yt((function(e){return e.app}),Cr),t=e.loading,n=e.user.isSome();return Object(Jt.jsx)(d.a,{children:!t&&Object(Jt.jsxs)(b.Fragment,{children:[Object(Jt.jsx)(ln,{}),Object(Jt.jsxs)(j.d,{children:[Object(Jt.jsx)(Tr,{exact:!0,path:"/login",userIsLogged:n,children:Object(Jt.jsx)(Bn,{})}),Object(Jt.jsx)(Tr,{exact:!0,path:"/register",userIsLogged:n,children:Object(Jt.jsx)(Gn,{})}),Object(Jt.jsx)(Ar,{exact:!0,path:"/settings",userIsLogged:n,children:Object(Jt.jsx)(Kn,{})}),Object(Jt.jsx)(Ar,{exact:!0,path:"/editor",userIsLogged:n,children:Object(Jt.jsx)(Mn,{})}),Object(Jt.jsx)(Ar,{exact:!0,path:"/editor/:slug",userIsLogged:n,children:Object(Jt.jsx)(cn,{})}),Object(Jt.jsx)(j.b,{path:"/profile/:username",children:Object(Jt.jsx)(tr,{})}),Object(Jt.jsx)(j.b,{path:"/article/:slug",children:Object(Jt.jsx)(or,{})}),Object(Jt.jsx)(j.b,{exact:!0,path:"/",children:Object(Jt.jsx)(kn,{})}),Object(Jt.jsx)(j.b,{path:"*",children:Object(Jt.jsx)(j.a,{to:"/"})})]}),Object(Jt.jsx)(un,{})]})})}function Cr(){return Fr.apply(this,arguments)}function Fr(){return(Fr=Object(o.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),tt.getState().app.loading&&t){e.next=4;break}return tt.dispatch(A()),e.abrupt("return");case 4:return l.a.defaults.headers.Authorization="Token ".concat(t),e.prev=5,e.t0=tt,e.t1=F,e.next=10,bt();case 10:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.dispatch.call(e.t0,e.t3),e.next=18;break;case 15:e.prev=15,e.t4=e.catch(5),tt.dispatch(A());case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function Tr(e){var t=e.children,n=e.userIsLogged,r=Object(s.a)(e,Nr);return Object(Jt.jsxs)(j.b,Object(i.a)(Object(i.a)({},r),{},{children:[t,n&&Object(Jt.jsx)(j.a,{to:"/"})]}))}function Ar(e){var t=e.children,n=e.userIsLogged,r=Object(s.a)(e,Sr);return Object(Jt.jsxs)(j.b,Object(i.a)(Object(i.a)({},r),{},{children:[t,!n&&Object(Jt.jsx)(j.a,{to:"/"})]}))}a.a.render(Object(Jt.jsx)(kr,{}),document.getElementById("root"))},66:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.1e5fc982.chunk.js.map